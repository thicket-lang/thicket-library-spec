{"definition":{"name":"Spec","version":"1.0","location":"https://github.com/thicket-lang/thicket-library-spec","description":"Specification test engine","developers":[{"name":"D. Plaindoux","mail":"d.plaindoux@free.fr"}],"modules":["Spec.Core","Spec.Logger","Spec.Logger.Console"],"requires":[{"Core":"1.0"}]},"content":{"Spec.Core.tkt.o":{"namespace":"Spec.Core","objcode":[[8,["TestContext",[["text",[[3,1],[14]]],["success",[[3,2],[14]]],["failure",[[3,3],[14]]]]]],[8,["Expect",[["toBe",[[3,1],[14]]],["toBeIn",[[3,2],[14]]],["toBeAKey",[[3,3],[14]]],["toBeAValue",[[3,4],[14]]]]]],[9,["expect",[["not",[[2,"Spec.Core.Expect"],[6,[[3,2],[5,"toBe"],[3,3],[4],[13,"not"]]],[4],[6,[[3,2],[5,"toBeIn"],[3,3],[4],[13,"not"]]],[4],[6,[[3,2],[5,"toBeAKey"],[3,3],[4],[13,"not"]]],[4],[6,[[3,2],[5,"toBeAValue"],[3,3],[4],[13,"not"]]],[12]]],["toBe",[[6,[[3,1],[5,"=="],[3,3],[12]]],[14]]],["toBeIn",[[6,[[3,3],[5,"find"],[6,[[3,1],[5,"=="],[3,4],[12]]],[4],[13,"present"]]],[14]]],["toBeAKey",[[6,[[3,2],[5,"toBeIn"],[7,[[3,3],[5,"keys"],[7,[[2,"Data.Unit.unit"]]],[4]]],[12]]],[14]]],["toBeAValue",[[6,[[3,2],[5,"toBeIn"],[7,[[3,3],[5,"values"],[7,[[2,"Data.Unit.unit"]]],[4]]],[12]]],[14]]]],["Spec.Core.Expect"]]],[9,["descriptionSpecs",[["it",[[6,[[6,[[2,"Lang.When.when"],[3,4],[4],[5,"then"],[7,[[6,[[2,"Lang.Do.do"],[7,[[3,1],[5,"_2"],[5,"success"],[3,3],[4]]],[4],[5,"return"],[7,[[2,"Spec.Core.descriptionSpecs"],[7,[[2,"Data.Pair.Pair"],[3,5],[4],[3,1],[5,"_2"],[4]]],[4]]],[12]]],[3,1],[5,"_1"],[3,1],[5,"_1"],[5,"success"],[5,"+"],[7,[[2,"Data.Number.number"],[1,1],[4]]],[4],[11,"success"],[4]]],[4],[5,"else"],[7,[[6,[[2,"Lang.Do.do"],[7,[[3,1],[5,"_2"],[5,"failure"],[3,3],[4]]],[4],[5,"return"],[7,[[2,"Spec.Core.descriptionSpecs"],[7,[[2,"Data.Pair.Pair"],[3,5],[4],[3,1],[5,"_2"],[4]]],[4]]],[12]]],[3,1],[5,"_1"],[3,1],[5,"_1"],[5,"failure"],[5,"+"],[7,[[2,"Data.Number.number"],[1,1],[4]]],[4],[11,"failure"],[4]]],[12]]],[14]]],[14]]],["done",[[2,"Lang.Do.do"],[7,[[3,1],[5,"_2"],[5,"terminate"],[7,[[2,"Data.Pair.Pair"],[3,1],[5,"_1"],[5,"success"],[4],[3,1],[5,"_1"],[5,"failure"],[4]]],[4]]],[4],[5,"return"],[7,[[2,"Data.Unit.unit"]]],[12]]]],[]]],[10,["description",[[6,[[6,[[2,"Lang.Do.do"],[7,[[3,1],[5,"description"],[3,2],[4]]],[4],[5,"return"],[7,[[2,"Spec.Core.descriptionSpecs"],[7,[[2,"Data.Pair.Pair"],[7,[[2,"Spec.Core.TestContext"],[3,2],[4],[7,[[2,"Data.Number.number"],[1,0],[4]]],[4],[7,[[2,"Data.Number.number"],[1,0],[4]]],[4]]],[4],[3,1],[4]]],[4]]],[12]]],[14]]]]]]],"main":[]},"Spec.Logger.tkt.o":{"namespace":"Spec.Logger","objcode":[[8,["TestLogger",[["description",[[3,1],[14]]],["success",[[3,2],[14]]],["failure",[[3,3],[14]]],["terminate",[[3,4],[14]]]]]],[10,["dumbLogger",[[6,[[2,"Spec.Logger.TestLogger"],[3,1],[4],[3,1],[4],[3,1],[4],[3,1],[12]]],[6,[[2,"Data.Unit.unit"],[14]]],[4]]]]],"main":[]},"Spec.Logger.Console.tkt.o":{"namespace":"Spec.Logger.Console","objcode":[[10,["consoleLogger",[[2,"Spec.Logger.dumbLogger"],[6,[[2,"Lang.Do.do"],[7,[[2,"System.Console.console"],[5,"log"],[7,[[3,1],[5,"+"],[7,[[2,"Data.String.string"],[1,":"],[4]]],[4]]],[4]]],[4],[5,"return"],[7,[[2,"Data.Unit.unit"]]],[12]]],[11,"description"],[6,[[2,"Lang.Do.do"],[7,[[2,"System.Console.console"],[5,"log"],[7,[[2,"Data.String.string"],[1,"  "],[4],[5,"+"],[3,1],[4]]],[4]]],[4],[5,"return"],[7,[[2,"Data.Unit.unit"]]],[12]]],[11,"success"],[6,[[2,"Lang.Do.do"],[7,[[2,"System.Console.console"],[5,"log"],[7,[[2,"Data.String.string"],[1,"X "],[4],[5,"+"],[3,1],[4]]],[4]]],[4],[5,"return"],[7,[[2,"Data.Unit.unit"]]],[12]]],[11,"failure"],[6,[[2,"Lang.Do.do"],[7,[[2,"System.Console.console"],[5,"log"],[7,[[2,"Data.String.string"],[1,"success "],[4],[5,"+"],[7,[[2,"Data.Number.number2string"],[3,1],[5,"_1"],[4]]],[4],[5,"+"],[7,[[2,"Data.String.string"],[1," failure "],[4]]],[4],[5,"+"],[7,[[2,"Data.Number.number2string"],[3,1],[5,"_2"],[4]]],[4]]],[4]]],[4],[5,";"],[7,[[2,"System.Console.console"],[5,"log"],[7,[[2,"Data.String.string"],[1,""],[4]]],[4]]],[4],[5,";"],[7,[[2,"Lang.When.when"],[7,[[3,1],[5,"_2"],[5,"?>"],[7,[[2,"Data.Number.number"],[1,0],[4]]],[4]]],[4],[5,"then"],[7,[[2,"System.Runtime.runtime"],[5,"exit"],[7,[[2,"Data.Number.number"],[1,1],[4]]],[4]]],[4],[5,"else"],[7,[[2,"Data.Unit.unit"]]],[4]]],[4],[5,"return"],[7,[[2,"Data.Unit.unit"]]],[12]]],[11,"terminate"]]]]],"main":[]},"Spec.Core.tkt.i":{"namespace":"Spec.Core","imports":[{"$t":"Imports","namespace":"Data"},{"$t":"Imports","namespace":"Lang"},{"$t":"Imports","namespace":"Spec.Logger"}],"entities":[{"$t":"Entity","name":"TestContext","definition":{"$t":"Model","name":"TestContext","variables":[],"params":[{"$t":"Param","name":"text","type":{"$t":"TypeVariable","name":"string","namespace":"Data.String"}},{"$t":"Param","name":"success","type":{"$t":"TypeVariable","name":"number","namespace":"Data.Number"}},{"$t":"Param","name":"failure","type":{"$t":"TypeVariable","name":"number","namespace":"Data.Number"}}]},"namespace":"Spec.Core"},{"$t":"Entity","name":"Expect","definition":{"$t":"TypePolymorphic","variables":["a"],"type":{"$t":"EntitySpecialization","type":{"$t":"Model","name":"Expect","variables":[{"$t":"TypeVariable","name":"a"}],"params":[{"$t":"Param","name":"toBe","type":{"$t":"TypeFunction","argument":{"$t":"TypeVariable","name":"a"},"result":{"$t":"TypeVariable","name":"bool","namespace":"Data.Boolean"}}},{"$t":"Param","name":"toBeIn","type":{"$t":"TypeFunction","argument":{"$t":"TypeSpecialize","type":{"$t":"TypeVariable","name":"Collection","namespace":"Data.Collection"},"parameters":[{"$t":"TypeVariable","name":"a"}]},"result":{"$t":"TypeVariable","name":"bool","namespace":"Data.Boolean"}}},{"$t":"Param","name":"toBeAKey","type":{"$t":"TypePolymorphic","variables":["b"],"type":{"$t":"TypeFunction","argument":{"$t":"TypeSpecialize","type":{"$t":"TypeVariable","name":"Map","namespace":"Data.Map"},"parameters":[{"$t":"TypeVariable","name":"a"},{"$t":"TypeVariable","name":"b"}]},"result":{"$t":"TypeVariable","name":"bool","namespace":"Data.Boolean"}}}},{"$t":"Param","name":"toBeAValue","type":{"$t":"TypePolymorphic","variables":["b"],"type":{"$t":"TypeFunction","argument":{"$t":"TypeSpecialize","type":{"$t":"TypeVariable","name":"Map","namespace":"Data.Map"},"parameters":[{"$t":"TypeVariable","name":"b"},{"$t":"TypeVariable","name":"a"}]},"result":{"$t":"TypeVariable","name":"bool","namespace":"Data.Boolean"}}}}]},"parameters":[{"$t":"TypeVariable","name":"a"}]}},"namespace":"Spec.Core"},{"$t":"Entity","name":"expect","definition":{"$t":"TypePolymorphic","variables":["a"],"type":{"$t":"EntitySpecialization","type":{"$t":"Controller","name":"expect","variables":[{"$t":"TypeVariable","name":"a"}],"param":{"$t":"Param","name":"this","type":{"$t":"TypeSpecialize","type":{"$t":"TypeVariable","name":"Comparable","namespace":"Data.Comparable"},"parameters":[{"$t":"TypeVariable","name":"a"}]}},"specifications":[{"$t":"Param","name":"not","type":{"$t":"TypeSpecialize","type":{"$t":"TypeVariable","name":"Expect","namespace":"Spec.Core"},"parameters":[{"$t":"TypeVariable","name":"a"}]}}],"behaviors":[],"derivations":[{"$t":"TypeSpecialize","type":{"$t":"TypeVariable","name":"Expect","namespace":"Spec.Core"},"parameters":[{"$t":"TypeVariable","name":"a"}]}]},"parameters":[{"$t":"TypeVariable","name":"a"}]}},"namespace":"Spec.Core"},{"$t":"Entity","name":"descriptionSpecs","definition":{"$t":"Controller","name":"descriptionSpecs","variables":[],"param":{"$t":"Param","name":"this","type":{"$t":"TypeSpecialize","type":{"$t":"TypeVariable","name":"Pair","namespace":"Data.Pair"},"parameters":[{"$t":"TypeVariable","name":"TestContext","namespace":"Spec.Core"},{"$t":"TypeVariable","name":"TestLogger","namespace":"Spec.Logger"}]}},"specifications":[{"$t":"Param","name":"it","type":{"$t":"TypeFunction","argument":{"$t":"TypeVariable","name":"string","namespace":"Data.String"},"result":{"$t":"TypeFunction","argument":{"$t":"TypeVariable","name":"bool","namespace":"Data.Boolean"},"result":{"$t":"TypeVariable","name":"descriptionSpecs","namespace":"Spec.Core"}}}},{"$t":"Param","name":"done","type":{"$t":"TypeVariable","name":"unit","namespace":"Data.Unit"}}],"behaviors":[],"derivations":[]},"namespace":"Spec.Core"},{"$t":"Entity","name":"description","definition":{"$t":"Expression","name":"description","type":{"$t":"TypeFunction","argument":{"$t":"TypeVariable","name":"TestLogger","namespace":"Spec.Logger"},"result":{"$t":"TypeFunction","argument":{"$t":"TypeVariable","name":"string","namespace":"Data.String"},"result":{"$t":"TypeVariable","name":"descriptionSpecs","namespace":"Spec.Core"}}},"expr":null},"namespace":"Spec.Core"}]},"Spec.Logger.tkt.i":{"namespace":"Spec.Logger","imports":[{"$t":"Imports","namespace":"Data"}],"entities":[{"$t":"Entity","name":"TestLogger","definition":{"$t":"Model","name":"TestLogger","variables":[],"params":[{"$t":"Param","name":"description","type":{"$t":"TypeFunction","argument":{"$t":"TypeVariable","name":"string","namespace":"Data.String"},"result":{"$t":"TypeVariable","name":"unit","namespace":"Data.Unit"}}},{"$t":"Param","name":"success","type":{"$t":"TypeFunction","argument":{"$t":"TypeVariable","name":"string","namespace":"Data.String"},"result":{"$t":"TypeVariable","name":"unit","namespace":"Data.Unit"}}},{"$t":"Param","name":"failure","type":{"$t":"TypeFunction","argument":{"$t":"TypeVariable","name":"string","namespace":"Data.String"},"result":{"$t":"TypeVariable","name":"unit","namespace":"Data.Unit"}}},{"$t":"Param","name":"terminate","type":{"$t":"TypeFunction","argument":{"$t":"TypeSpecialize","type":{"$t":"TypeVariable","name":"Pair","namespace":"Data.Pair"},"parameters":[{"$t":"TypeVariable","name":"number","namespace":"Data.Number"},{"$t":"TypeVariable","name":"number","namespace":"Data.Number"}]},"result":{"$t":"TypeVariable","name":"unit","namespace":"Data.Unit"}}}]},"namespace":"Spec.Logger"},{"$t":"Entity","name":"dumbLogger","definition":{"$t":"Expression","name":"dumbLogger","type":{"$t":"TypeVariable","name":"TestLogger","namespace":"Spec.Logger"},"expr":null},"namespace":"Spec.Logger"}]},"Spec.Logger.Console.tkt.i":{"namespace":"Spec.Logger.Console","imports":[{"$t":"Imports","namespace":"Data"},{"$t":"Imports","namespace":"Lang"},{"$t":"Imports","namespace":"System.Console"},{"$t":"Imports","namespace":"System.Runtime"},{"$t":"Imports","namespace":"Spec.Logger"}],"entities":[{"$t":"Entity","name":"consoleLogger","definition":{"$t":"Expression","name":"consoleLogger","type":{"$t":"TypeVariable","name":"TestLogger","namespace":"Spec.Logger"},"expr":null},"namespace":"Spec.Logger.Console"}]}}}