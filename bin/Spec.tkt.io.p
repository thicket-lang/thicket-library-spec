{"definition":{"name":"Spec","version":"1.0","location":"https://github.com/thicket-lang/thicket-library-spec","description":"Specification test engine","developers":[{"name":"D. Plaindoux","mail":"d.plaindoux@free.fr"}],"modules":["Spec.Core","Spec.Logger","Spec.Logger.Console"],"requires":[{"Core":"1.0"}]},"content":{"Spec.Core.tkt.o":{"namespace":"Spec.Core","objcode":[[8,["TestContext",[["text",[[3,1],[14]]],["success",[[3,2],[14]]],["failure",[[3,3],[14]]]]]],[8,["Expect",[["toBe",[[3,1],[14]]],["toBeIn",[[3,2],[14]]],["toBeAKey",[[3,3],[14]]],["toBeAValue",[[3,4],[14]]]]]],[9,["expect",[["not",[[3,2],[6,[[3,2],[5,"toBe"],[3,3],[4],[13,"not"]]],[11,"toBe"],[6,[[3,2],[5,"toBeIn"],[3,3],[4],[13,"not"]]],[11,"toBeIn"],[6,[[3,2],[5,"toBeAKey"],[3,3],[4],[13,"not"]]],[11,"toBeAKey"],[6,[[3,2],[5,"toBeAValue"],[3,3],[4],[13,"not"]]],[11,"toBeAValue"],[14]]],["toBe",[[6,[[3,1],[5,"=="],[3,3],[12]]],[14]]],["toBeIn",[[6,[[3,3],[5,"find"],[6,[[3,1],[5,"=="],[3,4],[12]]],[4],[13,"present"]]],[14]]],["toBeAKey",[[6,[[3,2],[5,"toBeIn"],[7,[[3,3],[5,"keys"],[7,[[2,"Data.Unit.unit"]]],[4]]],[12]]],[14]]],["toBeAValue",[[6,[[3,2],[5,"toBeIn"],[7,[[3,3],[5,"values"],[7,[[2,"Data.Unit.unit"]]],[4]]],[12]]],[14]]]],["Spec.Core.Expect"]]],[9,["descriptionSpecs",[["it",[[6,[[6,[[2,"Lang.When.when"],[3,4],[4],[5,"then"],[7,[[6,[[2,"Lang.Do.do"],[7,[[3,1],[5,"_2"],[5,"success"],[3,3],[4]]],[4],[5,"return"],[7,[[2,"Spec.Core.descriptionSpecs"],[7,[[2,"Data.Pair.Pair"],[3,5],[4],[3,1],[5,"_2"],[4]]],[4]]],[12]]],[3,1],[5,"_1"],[3,1],[5,"_1"],[5,"success"],[5,"+"],[7,[[2,"Data.Number.number"],[1,1],[4]]],[4],[11,"success"],[4]]],[4],[5,"else"],[7,[[6,[[2,"Lang.Do.do"],[7,[[3,1],[5,"_2"],[5,"failure"],[3,3],[4]]],[4],[5,"return"],[7,[[2,"Spec.Core.descriptionSpecs"],[7,[[2,"Data.Pair.Pair"],[3,5],[4],[3,1],[5,"_2"],[4]]],[4]]],[12]]],[3,1],[5,"_1"],[3,1],[5,"_1"],[5,"failure"],[5,"+"],[7,[[2,"Data.Number.number"],[1,1],[4]]],[4],[11,"failure"],[4]]],[12]]],[14]]],[14]]],["doneWithContext",[[2,"Lang.Do.do"],[7,[[3,1],[5,"_2"],[5,"terminate"],[7,[[2,"Data.Pair.Pair"],[3,1],[5,"_1"],[5,"success"],[4],[3,1],[5,"_1"],[5,"failure"],[4]]],[4]]],[4],[5,"return"],[3,1],[4],[13,"_1"]]],["done",[[2,"Lang.Do.do"],[3,2],[5,"doneWithContext"],[4],[5,"return"],[7,[[2,"Data.Unit.unit"]]],[12]]]],[]]],[10,["description",[[6,[[6,[[2,"Lang.Do.do"],[7,[[3,1],[5,"description"],[3,2],[4]]],[4],[5,"return"],[7,[[2,"Spec.Core.descriptionSpecs"],[7,[[2,"Data.Pair.Pair"],[7,[[2,"Spec.Core.TestContext"],[3,2],[4],[7,[[2,"Data.Number.number"],[1,0],[4]]],[4],[7,[[2,"Data.Number.number"],[1,0],[4]]],[4]]],[4],[3,1],[4]]],[4]]],[12]]],[14]]]]]]],"main":[]},"Spec.Logger.tkt.o":{"namespace":"Spec.Logger","objcode":[[8,["TestLogger",[["description",[[3,1],[14]]],["success",[[3,2],[14]]],["failure",[[3,3],[14]]],["terminate",[[3,4],[14]]]]]],[10,["dumbLogger",[[6,[[2,"Spec.Logger.TestLogger"],[3,1],[4],[3,1],[4],[3,1],[4],[3,1],[12]]],[6,[[2,"Data.Unit.unit"],[14]]],[4]]]]],"main":[]},"Spec.Logger.Console.tkt.o":{"namespace":"Spec.Logger.Console","objcode":[[10,["consoleLogger",[[2,"Spec.Logger.dumbLogger"],[6,[[2,"Lang.Do.do"],[7,[[2,"System.Console.console"],[5,"log"],[7,[[3,1],[5,"+"],[7,[[2,"Data.String.string"],[1,":"],[4]]],[4]]],[4]]],[4],[5,"return"],[7,[[2,"Data.Unit.unit"]]],[12]]],[11,"description"],[6,[[2,"Lang.Do.do"],[7,[[2,"System.Console.console"],[5,"log"],[7,[[2,"Data.String.string"],[1,"  "],[4],[5,"+"],[3,1],[4]]],[4]]],[4],[5,"return"],[7,[[2,"Data.Unit.unit"]]],[12]]],[11,"success"],[6,[[2,"Lang.Do.do"],[7,[[2,"System.Console.console"],[5,"log"],[7,[[2,"Data.String.string"],[1,"X "],[4],[5,"+"],[3,1],[4]]],[4]]],[4],[5,"return"],[7,[[2,"Data.Unit.unit"]]],[12]]],[11,"failure"],[6,[[2,"Lang.Do.do"],[7,[[2,"System.Console.console"],[5,"log"],[7,[[2,"Data.String.string"],[1,"success "],[4],[5,"+"],[7,[[2,"Data.Number.number2string"],[3,1],[5,"_1"],[4]]],[4],[5,"+"],[7,[[2,"Data.String.string"],[1," failure "],[4]]],[4],[5,"+"],[7,[[2,"Data.Number.number2string"],[3,1],[5,"_2"],[4]]],[4]]],[4]]],[4],[5,";"],[7,[[2,"System.Console.console"],[5,"log"],[7,[[2,"Data.String.string"],[1,""],[4]]],[4]]],[4],[5,";"],[7,[[2,"Lang.When.when"],[7,[[3,1],[5,"_2"],[5,"?>"],[7,[[2,"Data.Number.number"],[1,0],[4]]],[4]]],[4],[5,"then"],[7,[[2,"System.Runtime.runtime"],[5,"exit"],[7,[[2,"Data.Number.number"],[1,1],[4]]],[4]]],[4],[5,"else"],[7,[[2,"Data.Unit.unit"]]],[4]]],[4],[5,"return"],[7,[[2,"Data.Unit.unit"]]],[12]]],[11,"terminate"]]]]],"main":[]},"Spec.Core.tkt.i":{"namespace":"Spec.Core","imports":[{"$t":3,"namespace":"Data"},{"$t":3,"namespace":"Lang"},{"$t":3,"namespace":"Spec.Logger"}],"entities":[{"$t":1,"name":"TestContext","definition":{"$t":6,"name":"TestContext","variables":[],"params":[{"$t":7,"name":"text","type":{"$t":11,"name":"string","namespace":"Data.String"}},{"$t":7,"name":"success","type":{"$t":11,"name":"number","namespace":"Data.Number"}},{"$t":7,"name":"failure","type":{"$t":11,"name":"number","namespace":"Data.Number"}}]},"namespace":"Spec.Core"},{"$t":1,"name":"Expect","definition":{"$t":8,"variables":["a"],"type":{"$t":15,"type":{"$t":6,"name":"Expect","variables":[{"$t":11,"name":"a"}],"params":[{"$t":7,"name":"toBe","type":{"$t":12,"argument":{"$t":11,"name":"a"},"result":{"$t":11,"name":"bool","namespace":"Data.Boolean"}}},{"$t":7,"name":"toBeIn","type":{"$t":12,"argument":{"$t":9,"type":{"$t":11,"name":"Collection","namespace":"Data.Collection"},"parameters":[{"$t":11,"name":"a"}]},"result":{"$t":11,"name":"bool","namespace":"Data.Boolean"}}},{"$t":7,"name":"toBeAKey","type":{"$t":8,"variables":["b"],"type":{"$t":12,"argument":{"$t":9,"type":{"$t":11,"name":"Map","namespace":"Data.Map"},"parameters":[{"$t":11,"name":"a"},{"$t":11,"name":"b"}]},"result":{"$t":11,"name":"bool","namespace":"Data.Boolean"}}}},{"$t":7,"name":"toBeAValue","type":{"$t":8,"variables":["b"],"type":{"$t":12,"argument":{"$t":9,"type":{"$t":11,"name":"Map","namespace":"Data.Map"},"parameters":[{"$t":11,"name":"b"},{"$t":11,"name":"a"}]},"result":{"$t":11,"name":"bool","namespace":"Data.Boolean"}}}}]},"parameters":[{"$t":11,"name":"a"}]}},"namespace":"Spec.Core"},{"$t":1,"name":"expect","definition":{"$t":8,"variables":["a"],"type":{"$t":15,"type":{"$t":14,"name":"expect","variables":[{"$t":11,"name":"a"}],"param":{"$t":7,"name":"this","type":{"$t":9,"type":{"$t":11,"name":"Comparable","namespace":"Data.Comparable"},"parameters":[{"$t":11,"name":"a"}]}},"specifications":[{"$t":7,"name":"not","type":{"$t":9,"type":{"$t":11,"name":"Expect","namespace":"Spec.Core"},"parameters":[{"$t":11,"name":"a"}]}}],"behaviors":[],"derivations":[{"$t":9,"type":{"$t":11,"name":"Expect","namespace":"Spec.Core"},"parameters":[{"$t":11,"name":"a"}]}]},"parameters":[{"$t":11,"name":"a"}]}},"namespace":"Spec.Core"},{"$t":1,"name":"descriptionSpecs","definition":{"$t":14,"name":"descriptionSpecs","variables":[],"param":{"$t":7,"name":"this","type":{"$t":9,"type":{"$t":11,"name":"Pair","namespace":"Data.Pair"},"parameters":[{"$t":11,"name":"TestContext","namespace":"Spec.Core"},{"$t":11,"name":"TestLogger","namespace":"Spec.Logger"}]}},"specifications":[{"$t":7,"name":"it","type":{"$t":12,"argument":{"$t":11,"name":"string","namespace":"Data.String"},"result":{"$t":12,"argument":{"$t":11,"name":"bool","namespace":"Data.Boolean"},"result":{"$t":11,"name":"descriptionSpecs","namespace":"Spec.Core"}}}},{"$t":7,"name":"done","type":{"$t":11,"name":"unit","namespace":"Data.Unit"}},{"$t":7,"name":"doneWithContext","type":{"$t":11,"name":"TestContext","namespace":"Spec.Core"}}],"behaviors":[],"derivations":[]},"namespace":"Spec.Core"},{"$t":1,"name":"description","definition":{"$t":4,"name":"description","type":{"$t":12,"argument":{"$t":11,"name":"TestLogger","namespace":"Spec.Logger"},"result":{"$t":12,"argument":{"$t":11,"name":"string","namespace":"Data.String"},"result":{"$t":11,"name":"descriptionSpecs","namespace":"Spec.Core"}}},"expr":null},"namespace":"Spec.Core"}]},"Spec.Logger.tkt.i":{"namespace":"Spec.Logger","imports":[{"$t":3,"namespace":"Data"}],"entities":[{"$t":1,"name":"TestLogger","definition":{"$t":6,"name":"TestLogger","variables":[],"params":[{"$t":7,"name":"description","type":{"$t":12,"argument":{"$t":11,"name":"string","namespace":"Data.String"},"result":{"$t":11,"name":"unit","namespace":"Data.Unit"}}},{"$t":7,"name":"success","type":{"$t":12,"argument":{"$t":11,"name":"string","namespace":"Data.String"},"result":{"$t":11,"name":"unit","namespace":"Data.Unit"}}},{"$t":7,"name":"failure","type":{"$t":12,"argument":{"$t":11,"name":"string","namespace":"Data.String"},"result":{"$t":11,"name":"unit","namespace":"Data.Unit"}}},{"$t":7,"name":"terminate","type":{"$t":12,"argument":{"$t":9,"type":{"$t":11,"name":"Pair","namespace":"Data.Pair"},"parameters":[{"$t":11,"name":"number","namespace":"Data.Number"},{"$t":11,"name":"number","namespace":"Data.Number"}]},"result":{"$t":11,"name":"unit","namespace":"Data.Unit"}}}]},"namespace":"Spec.Logger"},{"$t":1,"name":"dumbLogger","definition":{"$t":4,"name":"dumbLogger","type":{"$t":11,"name":"TestLogger","namespace":"Spec.Logger"},"expr":null},"namespace":"Spec.Logger"}]},"Spec.Logger.Console.tkt.i":{"namespace":"Spec.Logger.Console","imports":[{"$t":3,"namespace":"Data"},{"$t":3,"namespace":"Lang"},{"$t":3,"namespace":"System.Console"},{"$t":3,"namespace":"System.Runtime"},{"$t":3,"namespace":"Spec.Logger"}],"entities":[{"$t":1,"name":"consoleLogger","definition":{"$t":4,"name":"consoleLogger","type":{"$t":11,"name":"TestLogger","namespace":"Spec.Logger"},"expr":null},"namespace":"Spec.Logger.Console"}]}}}