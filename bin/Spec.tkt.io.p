{"definition":{"name":"Spec","version":"1.0","location":"https://github.com/thicket-lang/thicket-library-spec","description":"Specification test engine","developers":[{"name":"D. Plaindoux","mail":"d.plaindoux@free.fr"}],"modules":["Spec.Core","Spec.Logger","Spec.Logger.Console"],"requires":[{"Core":"1.0"}]},"content":{"Spec.Core.tkt.o":{"namespace":"Spec.Core","objcode":[[11,["TestContext",[["text",[[3,1],15]],["success",[[3,2],15]],["failure",[[3,3],15]]]]],[11,["Expect",[["toBe",[[3,1],15]],["toBeIn",[[3,2],15]],["toBeAKey",[[3,3],15]],["toBeAValue",[[3,4],15]]]]],[12,["expect",[["not",[[3,2],10,[8,[[3,2],10,[6,"toBe"],10,[3,3],4,10,[7,"not"]]],10,[14,"toBe"],10,[8,[[3,2],10,[6,"toBeIn"],10,[3,3],4,10,[7,"not"]]],10,[14,"toBeIn"],10,[8,[[3,2],10,[6,"toBeAKey"],10,[3,3],4,10,[7,"not"]]],10,[14,"toBeAKey"],10,[8,[[3,2],10,[6,"toBeAValue"],10,[3,3],4,10,[7,"not"]]],10,[14,"toBeAValue"],15]],["toBe",[[8,[[3,1],10,[6,"=="],10,[3,3],5]],15]],["toBeIn",[[8,[[3,3],10,[6,"find"],10,[8,[[3,1],10,[6,"=="],10,[3,4],5]],4,10,[7,"present"]]],15]],["toBeAKey",[[8,[[3,2],10,[6,"toBeIn"],10,[9,[[3,3],10,[6,"keys"],10,[2,"Data.Unit.unit"],4]],5]],15]],["toBeAValue",[[8,[[3,2],10,[6,"toBeIn"],10,[9,[[3,3],10,[6,"values"],10,[2,"Data.Unit.unit"],4]],5]],15]]],["Spec.Core.Expect"]]],[12,["descriptionSpecs",[["it",[[8,[[8,[[2,"Lang.When.when"],10,[3,4],4,10,[6,"then"],10,[9,[[8,[[2,"Lang.Do.do"],10,[9,[[3,1],10,[6,"_2"],10,[6,"success"],10,[3,3],4]],4,10,[6,"return"],10,[9,[[2,"Spec.Core.descriptionSpecs"],10,[9,[[2,"Data.Pair.Pair"],10,[3,5],4,10,[3,1],10,[6,"_2"],4]],4]],5]],10,[3,1],10,[6,"_1"],10,[3,1],10,[6,"_1"],10,[6,"success"],10,[6,"++"],10,[14,"success"],4]],4,10,[6,"else"],10,[9,[[8,[[2,"Lang.Do.do"],10,[9,[[3,1],10,[6,"_2"],10,[6,"failure"],10,[3,3],4]],4,10,[6,"return"],10,[9,[[2,"Spec.Core.descriptionSpecs"],10,[9,[[2,"Data.Pair.Pair"],10,[3,5],4,10,[3,1],10,[6,"_2"],4]],4]],5]],10,[3,1],10,[6,"_1"],10,[3,1],10,[6,"_1"],10,[6,"failure"],10,[6,"++"],10,[14,"failure"],4]],5]],15]],15]],["done",[[2,"Lang.Do.do"],10,[9,[[3,1],10,[6,"_2"],10,[6,"terminate"],10,[9,[[2,"Data.Pair.Pair"],10,[3,1],10,[6,"_1"],10,[6,"success"],4,10,[3,1],10,[6,"_1"],10,[6,"failure"],4]],4]],4,10,[6,"return"],10,[3,1],4,10,[7,"_1"]]]],[]]],[13,["description",[[8,[[8,[[2,"Lang.Do.do"],10,[9,[[3,1],10,[6,"description"],10,[3,2],4]],4,10,[6,"return"],10,[9,[[2,"Spec.Core.descriptionSpecs"],10,[9,[[2,"Data.Pair.Pair"],10,[9,[[2,"Spec.Core.TestContext"],10,[3,2],4,10,[9,[[2,"Data.Number.number"],10,[1,0],4]],4,10,[9,[[2,"Data.Number.number"],10,[1,0],4]],4]],4,10,[3,1],4]],4]],5]],15]],15]]]],"main":[]},"Spec.Logger.tkt.o":{"namespace":"Spec.Logger","objcode":[[11,["TestLogger",[["description",[[3,1],15]],["success",[[3,2],15]],["failure",[[3,3],15]],["terminate",[[3,4],15]]]]],[13,["dumbLogger",[[8,[[2,"Spec.Logger.TestLogger"],10,[3,1],4,10,[3,1],4,10,[3,1],4,10,[3,1],5]],10,[8,[[2,"Data.Unit.unit"],15]],5]]]],"main":[]},"Spec.Logger.Console.tkt.o":{"namespace":"Spec.Logger.Console","objcode":[[13,["consoleLogger",[[2,"Spec.Logger.dumbLogger"],10,[8,[[2,"Lang.Do.do"],10,[9,[[2,"System.Console.console"],10,[6,"log"],10,[9,[[3,1],10,[6,"+"],10,[9,[[2,"Data.String.string"],10,[1,":"],4]],4]],4]],4,10,[6,"return"],10,[2,"Data.Unit.unit"],5]],10,[14,"description"],10,[8,[[2,"Lang.Do.do"],10,[9,[[2,"System.Console.console"],10,[6,"log"],10,[9,[[2,"Data.String.string"],10,[1,"  "],4,10,[6,"+"],10,[3,1],4]],4]],4,10,[6,"return"],10,[2,"Data.Unit.unit"],5]],10,[14,"success"],10,[8,[[2,"Lang.Do.do"],10,[9,[[2,"System.Console.console"],10,[6,"log"],10,[9,[[2,"Data.String.string"],10,[1,"X "],4,10,[6,"+"],10,[3,1],4]],4]],4,10,[6,"return"],10,[2,"Data.Unit.unit"],5]],10,[14,"failure"],10,[8,[[2,"Lang.Do.do"],10,[9,[[2,"System.Console.console"],10,[6,"log"],10,[9,[[2,"Data.String.string"],10,[1,"success "],4,10,[6,"+"],10,[9,[[2,"Data.Number.number2string"],10,[3,1],10,[6,"_1"],4]],4,10,[6,"+"],10,[9,[[2,"Data.String.string"],10,[1," failure "],4]],4,10,[6,"+"],10,[9,[[2,"Data.Number.number2string"],10,[3,1],10,[6,"_2"],4]],4]],4]],4,10,[6,";"],10,[9,[[2,"System.Console.console"],10,[6,"log"],10,[9,[[2,"Data.String.string"],10,[1,""],4]],4]],4,10,[6,";"],10,[9,[[2,"Lang.When.when"],10,[9,[[3,1],10,[6,"_2"],10,[6,"?>"],10,[9,[[2,"Data.Number.number"],10,[1,0],4]],4]],4,10,[6,"then"],10,[9,[[2,"System.Runtime.runtime"],10,[6,"exit"],10,[9,[[2,"Data.Number.number"],10,[1,1],4]],4]],4,10,[6,"else"],10,[2,"Data.Unit.unit"],4]],4,10,[6,"return"],10,[2,"Data.Unit.unit"],5]],10,[14,"terminate"],15]]]],"main":[]},"Spec.Core.tkt.i":{"namespace":"Spec.Core","imports":[{"$t":3,"namespace":"Data"},{"$t":3,"namespace":"Lang"},{"$t":3,"namespace":"Spec.Logger"}],"entities":[{"$t":1,"name":"TestContext","definition":{"$t":6,"name":"TestContext","variables":[],"params":[{"$t":7,"name":"text","type":{"$t":11,"name":"string","namespace":"Data.String"}},{"$t":7,"name":"success","type":{"$t":11,"name":"number","namespace":"Data.Number"}},{"$t":7,"name":"failure","type":{"$t":11,"name":"number","namespace":"Data.Number"}}]},"namespace":"Spec.Core"},{"$t":1,"name":"Expect","definition":{"$t":8,"variables":["a"],"type":{"$t":15,"type":{"$t":6,"name":"Expect","variables":[{"$t":11,"name":"a"}],"params":[{"$t":7,"name":"toBe","type":{"$t":12,"argument":{"$t":11,"name":"a"},"result":{"$t":11,"name":"bool","namespace":"Data.Boolean"}}},{"$t":7,"name":"toBeIn","type":{"$t":12,"argument":{"$t":9,"type":{"$t":11,"name":"Collection","namespace":"Data.Collection"},"parameters":[{"$t":11,"name":"a"}]},"result":{"$t":11,"name":"bool","namespace":"Data.Boolean"}}},{"$t":7,"name":"toBeAKey","type":{"$t":8,"variables":["b"],"type":{"$t":12,"argument":{"$t":9,"type":{"$t":11,"name":"Map","namespace":"Data.Map"},"parameters":[{"$t":11,"name":"a"},{"$t":11,"name":"b"}]},"result":{"$t":11,"name":"bool","namespace":"Data.Boolean"}}}},{"$t":7,"name":"toBeAValue","type":{"$t":8,"variables":["b"],"type":{"$t":12,"argument":{"$t":9,"type":{"$t":11,"name":"Map","namespace":"Data.Map"},"parameters":[{"$t":11,"name":"b"},{"$t":11,"name":"a"}]},"result":{"$t":11,"name":"bool","namespace":"Data.Boolean"}}}}]},"parameters":[{"$t":11,"name":"a"}]}},"namespace":"Spec.Core"},{"$t":1,"name":"expect","definition":{"$t":8,"variables":["a"],"type":{"$t":15,"type":{"$t":14,"name":"expect","variables":[{"$t":11,"name":"a"}],"param":{"$t":7,"name":"this","type":{"$t":9,"type":{"$t":11,"name":"Comparable","namespace":"Data.Comparable"},"parameters":[{"$t":11,"name":"a"}]}},"specifications":[{"$t":7,"name":"not","type":{"$t":9,"type":{"$t":11,"name":"Expect","namespace":"Spec.Core"},"parameters":[{"$t":11,"name":"a"}]}}],"behaviors":[],"derivations":[{"$t":9,"type":{"$t":11,"name":"Expect","namespace":"Spec.Core"},"parameters":[{"$t":11,"name":"a"}]}]},"parameters":[{"$t":11,"name":"a"}]}},"namespace":"Spec.Core"},{"$t":1,"name":"descriptionSpecs","definition":{"$t":14,"name":"descriptionSpecs","variables":[],"param":{"$t":7,"name":"this","type":{"$t":9,"type":{"$t":11,"name":"Pair","namespace":"Data.Pair"},"parameters":[{"$t":11,"name":"TestContext","namespace":"Spec.Core"},{"$t":11,"name":"TestLogger","namespace":"Spec.Logger"}]}},"specifications":[{"$t":7,"name":"it","type":{"$t":12,"argument":{"$t":11,"name":"string","namespace":"Data.String"},"result":{"$t":12,"argument":{"$t":11,"name":"bool","namespace":"Data.Boolean"},"result":{"$t":11,"name":"descriptionSpecs","namespace":"Spec.Core"}}}},{"$t":7,"name":"done","type":{"$t":11,"name":"TestContext","namespace":"Spec.Core"}}],"behaviors":[],"derivations":[]},"namespace":"Spec.Core"},{"$t":1,"name":"description","definition":{"$t":4,"name":"description","type":{"$t":12,"argument":{"$t":11,"name":"TestLogger","namespace":"Spec.Logger"},"result":{"$t":12,"argument":{"$t":11,"name":"string","namespace":"Data.String"},"result":{"$t":11,"name":"descriptionSpecs","namespace":"Spec.Core"}}},"expr":null},"namespace":"Spec.Core"}]},"Spec.Logger.tkt.i":{"namespace":"Spec.Logger","imports":[{"$t":3,"namespace":"Data"}],"entities":[{"$t":1,"name":"TestLogger","definition":{"$t":6,"name":"TestLogger","variables":[],"params":[{"$t":7,"name":"description","type":{"$t":12,"argument":{"$t":11,"name":"string","namespace":"Data.String"},"result":{"$t":11,"name":"unit","namespace":"Data.Unit"}}},{"$t":7,"name":"success","type":{"$t":12,"argument":{"$t":11,"name":"string","namespace":"Data.String"},"result":{"$t":11,"name":"unit","namespace":"Data.Unit"}}},{"$t":7,"name":"failure","type":{"$t":12,"argument":{"$t":11,"name":"string","namespace":"Data.String"},"result":{"$t":11,"name":"unit","namespace":"Data.Unit"}}},{"$t":7,"name":"terminate","type":{"$t":12,"argument":{"$t":9,"type":{"$t":11,"name":"Pair","namespace":"Data.Pair"},"parameters":[{"$t":11,"name":"number","namespace":"Data.Number"},{"$t":11,"name":"number","namespace":"Data.Number"}]},"result":{"$t":11,"name":"unit","namespace":"Data.Unit"}}}]},"namespace":"Spec.Logger"},{"$t":1,"name":"dumbLogger","definition":{"$t":4,"name":"dumbLogger","type":{"$t":11,"name":"TestLogger","namespace":"Spec.Logger"},"expr":null},"namespace":"Spec.Logger"}]},"Spec.Logger.Console.tkt.i":{"namespace":"Spec.Logger.Console","imports":[{"$t":3,"namespace":"Data"},{"$t":3,"namespace":"Lang"},{"$t":3,"namespace":"System.Console"},{"$t":3,"namespace":"System.Runtime"},{"$t":3,"namespace":"Spec.Logger"}],"entities":[{"$t":1,"name":"consoleLogger","definition":{"$t":4,"name":"consoleLogger","type":{"$t":11,"name":"TestLogger","namespace":"Spec.Logger"},"expr":null},"namespace":"Spec.Logger.Console"}]}}}